{
  "comments": [
    {
      "key": {
        "uuid": "afdba884_4240439d",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-26T15:15:03Z",
      "side": 1,
      "message": "With this new knob of not moving pkts to different lcores based on hash, do we know the impact on PPS? Will we still get max performance or max PPS will reduce?",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d1a991c_38f45258",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 232
      },
      "writtenOn": "2020-05-26T16:38:10Z",
      "side": 1,
      "message": "We get 15-20% more PPS",
      "parentUuid": "afdba884_4240439d",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54305166_87fafd25",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-26T17:01:45Z",
      "side": 1,
      "message": "So you mean to say both PPS and latency is improved when this knob is turned on?",
      "parentUuid": "9d1a991c_38f45258",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1cf0dd0_a2f58930",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-27T10:34:04Z",
      "side": 1,
      "message": "Do you mean to say that with multiqueue VNFs and with this knob enabled, we get 15-20% more pps along with latency of 100-150us?",
      "parentUuid": "54305166_87fafd25",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3cf2f787_7a86dd4b",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 232
      },
      "writtenOn": "2020-05-27T11:13:52Z",
      "side": 1,
      "message": "yes",
      "parentUuid": "d1cf0dd0_a2f58930",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c8cb67d_fd8226bd",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-26T15:15:03Z",
      "side": 1,
      "message": "What would be the default setting for this knob? Set to ON?",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad829274_aae05aa6",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 232
      },
      "writtenOn": "2020-05-26T16:38:10Z",
      "side": 1,
      "message": "Default is off.",
      "parentUuid": "6c8cb67d_fd8226bd",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bdc9da9_b9234c78",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-26T17:01:45Z",
      "side": 1,
      "message": "If both latency and pps improve with this knob turned on, shouldn\u0027t the default be to turn ON this knob?",
      "parentUuid": "ad829274_aae05aa6",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "efa5f858_42773f92",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 497
      },
      "writtenOn": "2020-05-26T20:35:12Z",
      "side": 1,
      "message": "It shouldnâ€™t be default because require multiqueue support from VNF side, unfortunately not all VNFs support it. Without multiqueue a performance degradation will be significant (in fact whole packet processing will be limited to one core).",
      "parentUuid": "1bdc9da9_b9234c78",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7541ea86_2fc6233e",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 641
      },
      "writtenOn": "2020-05-27T04:43:48Z",
      "side": 1,
      "message": "This should be explicitly mentioned in the \"Limitations\" section as the current description \ndoes not convey the negative impact clearly.",
      "parentUuid": "efa5f858_42773f92",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52ac744d_c3518de7",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 232
      },
      "writtenOn": "2020-05-27T04:45:06Z",
      "side": 1,
      "message": "It is already mentioned. Pl check again.",
      "parentUuid": "7541ea86_2fc6233e",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7676af9c_770fe1d0",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 232
      },
      "writtenOn": "2020-05-27T04:54:04Z",
      "side": 1,
      "message": "It is already mentioned that multiqueue needs to be enabled for this feature to work more effectively.",
      "parentUuid": "52ac744d_c3518de7",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7026caa1_7f1ccedd",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 641
      },
      "writtenOn": "2020-05-27T04:58:39Z",
      "side": 1,
      "message": "I had checked before adding the comment. What is not listed is \"Without multiqueue a performance degradation will be significant (in fact whole packet processing will be limited to one core)\". The negative impact is much more pronounced in that statement.",
      "parentUuid": "52ac744d_c3518de7",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df36e31f_657135ae",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-27T10:34:04Z",
      "side": 1,
      "message": "\"Without multiqueue a performance degradation will be significant (in fact whole packet processing will be limited to one core).\"\nI am not sure why this would be the case. Can you please elaborate in detail?",
      "parentUuid": "7026caa1_7f1ccedd",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98e209a4_fd06b9d4",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 232
      },
      "writtenOn": "2020-05-27T11:13:52Z",
      "side": 1,
      "message": "If the knob is present and VM has single queue, the same core which dequeues packets from VM also needs to process them and send it out. This will degrade the performance. In contrast, if the knob is not present and VM has single queue, the receiving core just need to distribute the packets to other forwarding cores which perform packet processing.",
      "parentUuid": "df36e31f_657135ae",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "165d0ded_1283695f",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-27T12:23:07Z",
      "side": 1,
      "message": "Ok. If I understood correctly, in single queue case without the knob, multiple cores can process the packets from the same VM and hence performance is better. Correct?\n\nCan we do this dynamically without a knob? For eg: For VNFs which have multiqueue support, don\u0027t do load balancing and process the pkt in the same lcore which received it. If the VNF doesn\u0027t support multiqueue, do what we do today i.e loadbalance. Did we try this?",
      "parentUuid": "98e209a4_fd06b9d4",
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd69d1e9_4dac0d97",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 96,
      "author": {
        "id": 631
      },
      "writtenOn": "2020-05-27T10:34:04Z",
      "side": 1,
      "message": "In case there is a mix of multiqueue and non multiqueue VNFs, what will happen?\nThe knob would be off and latency issue will still persist?\n\nIs it possible to predict what type of VNFs will be launched on the vrouter?",
      "range": {
        "startLine": 94,
        "startChar": 0,
        "endLine": 96,
        "endChar": 55
      },
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6bfb2802_6418b5d7",
        "filename": "latency_improvements.md",
        "patchSetId": 2
      },
      "lineNbr": 96,
      "author": {
        "id": 232
      },
      "writtenOn": "2020-05-27T11:13:52Z",
      "side": 1,
      "message": "This is not a favorable case. That is the reason we are having a knob. The user need to know what is does before enabling it. Also AFAIK, most of the telco use-cases just have one fat VM per compute. We cannot predict what type of VNF is launched on vRouter since multiqueue is property of nova-flavor, glance-image and also VNF capability.",
      "parentUuid": "fd69d1e9_4dac0d97",
      "range": {
        "startLine": 94,
        "startChar": 0,
        "endLine": 96,
        "endChar": 55
      },
      "revId": "e7a4c818c0d973965a309bdbc97f1756f14f7f7f",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    }
  ]
}